

<!DOCTYPE html>
<html lang="en">
  <head>
                    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
        try {
          var pageTracker = _gat._getTracker("UA-40920108-1");
          pageTracker._trackPageview();
        } catch(err) {}
        </script>
                <link href='http://fonts.googleapis.com/css?family=Open+Sans|Merriweather' rel='stylesheet' type='text/css' />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title> jasonpbecker </title>

    <link rel="stylesheet" href="./theme/css/style.css" type="text/css" />
    <link rel="stylesheet" href="./theme/css/pygments.css" type="text/css" />
    <link rel="stylesheet" href="./theme/css/font-awesome.css" type="text/css"/>
      </head>
  <body>
    <div class=container>
                    
      <div class=navigation>
        <ul>
                      <li><a href="./index.html">Blog</a> </li>
                      <li><a href="./about.html">About</a> </li>
                      <li><a href="./archives.html">Archive</a> </li>
                  </ul>
      </div>
      <div class=separator></div>                
        <div class=body>
        
            <h1 class="title">Cleaning URLs with TextExpander<a href="./2013/05/cleaning-urls-with-textexpander.html" class=perma>&#8734;</a></h1>
      <p class=date> 2013-05-30 </p>
      <p>One thing I really dislike about Google Reader is it replaces the links to posts in my RSS feed. My <a href="http://pinboard.in/u:jasonpbecker">Pinboard account</a> is littered with links that start with <code>http://feedproxy.google.com</code>. I am quite concerned that with the demise of <a href="http://googlereader.blogspot.com/2013/03/powering-down-google-reader.html">Google Reader</a> on July 1, 2013, these redirects will no longer work.</p>
<p>It's not just Google that obscures the actually address of links on the internet. The popularity of using link shortening services, both to save characters on Twitter and to collect analytics, has proliferated the <em>Internet of Redirects</em>.</p>
<p>Worse still, after I am done cutting through redirects, I often find that the ultimate link include all kinds of extraneous attributes, most especially a barrage of <code>utm_*</code> campaign tracking.</p>
<p>Now, I understand why all of this is happening and the importance of the services and analytics this link cruft provides. I am quite happy to click on shortened links, move through all the redirects, and let sites know just how I found them. But quite often, like when using a bookmarking service or writing a blog post, I just want the simple, plain text URL that gets me directly to the permanent home of the content.</p>
<p>One part of my workflow to deal with link cruft is a TextExpander snippet I call <code>cleanURL</code>. It triggers a simple Python script that grabs the URL in my clipboard, traces through the redirects to the final destination, then strips links of campaign tracking attributes, and ultimately pastes a new URL that is much "cleaner".</p>
<p>Below I have provided the script. I hope it is useful to some other folks, and I would love some recommendations for additional "cleaning" that could be performed.</p>
<p>My next task is expanding this script to work with <a href="http://pinboard.in">Pinboard</a> so that I can clean up all my links before the end of the month when Google Reader goes belly up.</p>
<div class="highlight"><pre><span class="c">#!/usr/bin/python</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">re</span> <span class="kn">import</span> <span class="n">search</span>
<span class="kn">from</span> <span class="nn">subprocess</span> <span class="kn">import</span> <span class="n">check_output</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">check_output</span><span class="p">(</span><span class="s">&#39;pbpaste&#39;</span><span class="p">)</span>

<span class="c"># Go through the redirects to get the destination URL</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c"># Look for utm attributes</span>
<span class="n">match</span> <span class="o">=</span>  <span class="n">search</span><span class="p">(</span><span class="s">r&#39;[?&amp;#]utm_&#39;</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>

<span class="c"># Because I&#39;m not smart and trigger this with</span>
<span class="c"># already clean URLs</span>
<span class="k">if</span> <span class="n">match</span><span class="p">:</span>
  <span class="n">cleanURL</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">cleanURL</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">url</span>

<span class="k">print</span> <span class="n">cleanURL</span>
</pre></div>
      
                      <div class=entry-overview>
        <div class=date>Dec 20, 2012</div>
        <div class=detail>
          <h1><a href="./2012/12/the-slow-trek-to-pelican.html">The Slow Trek to Pelican</a></h1>
            <div class=summary><p><p><em>Update: Please see below for two solutions.</em></p>
<p>I have grown increasingly unhappy with Wordpress lately. My blog is simple. My design tastes are simple. My needs are simple. I like control. I am a geek. And I really need an excuse to learn Python, which seems to be rapidly growing ...</p></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Nov 20, 2012</div>
        <div class=detail>
          <h1><a href="./2012/11/a-little-knowledge-is-a-wonderful-dangerous-thing.html">A little knowledge is a wonderful (dangerous) thing</a></h1>
            <div class=summary><p><p>Applying the lessons of cognitive science to education is not a straight forward task. Even with the best intentions, we may do more harm than good.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>E.D. Hirsch's term&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>In the area of neuroscience and cognitive science, I am probably only marginally better off than most teachers. My Sc.B. is in chemistry. So a background in empirical physical sciences and my knowledge of social science may help me to access some of the research on how people learn, but I would probably be just as susceptible to overconfidence in my ability to process this research and repeat untruths as many very intelligent educators.&#160;<a class="footnote-backref" href="#fnref:2" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Nov 04, 2012</div>
        <div class=detail>
          <h1><a href="./2012/11/frictionless.html">Frictionless</a></h1>
            <div class=summary><p><p>The key benefit that Apple has is <em>ecosystem</em>. Catching up with high quality hardware is just not enough.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:hardware">
<p>Hardly a given in the past from either Google (LG/ASUS) and Microsoft partners. Although Microsoft's actual hardware, until now primarily keyboards and mice (do you pluralize a computer mouse? It seems strange.)&#160;<a class="footnote-backref" href="#fnref:hardware" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:toolate">
<p>I really think it might be. Windows Phone 7 was brilliant, but released 2 years too late behind at least 1 year of development.&#160;<a class="footnote-backref" href="#fnref:toolate" rev="footnote" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Nov 02, 2012</div>
        <div class=detail>
          <h1><a href="./2012/11/paul-cuffee-middle-school-addressing-emotional-needs.html">Paul Cuffee Middle School, Addressing Emotional Needs</a></h1>
            <div class=summary><p><p>I like this piece in Slate on <a href="http://www.paulcuffee.org">Paul Cuffee Middle School</a>, a charter school right here in Providence. Most of what I know about child development seems to suggest that middle schools are sort of ridiculous. At the moment children are looking for role models and close relationships with adults ...</p></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Oct 09, 2012</div>
        <div class=detail>
          <h1><a href="./2012/10/where-i-share.html">Where I Share</a></h1>
            <div class=summary><p><p>I have been meaning to write this post for the past couple of weeks. Like most other people, I am constantly experimenting with different ways to publish and share my thoughts and engage with social networking. Lately, I have settled into what feels like an "end state" workflow<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>. I ...</p></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Oct 01, 2012</div>
        <div class=detail>
          <h1><a href="./2012/10/what-can-management-do-ios6-maps-monday-morning-quarterbacking.html">What Can Management Do? iOS6 Maps Monday-Morning Quarterbacking</a></h1>
            <div class=summary><p><p><a href="https://twitter.com/philiped">Philip Elmer-DeWitt</a> has <a href="http://tech.fortune.cnn.com/2012/09/29/does-apple-have-a-scott-forstall-problem/">suggested</a> the <a href="http://theamazingios6maps.tumblr.com/">iOS6 Maps debacle</a> falls on the shoulders of <a href="http://en.wikipedia.org/wiki/Scott_Forstall">Scott Forstall</a><sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup>. When I first read the piece, I felt like it was unfair to blame management for this kind of failure. In my experience, the Maps application is wonderful software. The turn-by-turn directions are elegant ...</p></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Oct 01, 2012</div>
        <div class=detail>
          <h1><a href="./2012/10/thoughts-on-grit.html">Thoughts on Grit</a></h1>
            <div class=summary><p><p>I have not had the opportunity to read <a href="http://www.paultough.com/the-books/how-children-succeed/">Paul Tough's newest book</a> on "grit"<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">2</a></sup>. I have, however, read Paul Tough's <a href="http://www.nytimes.com/2011/09/18/magazine/what-if-the-secret-to-success-is-failure.html">New York Times Magazine article on grit</a> and recently listened to an <a href="http://www.econtalk.org/archives/2012/09/paul_tough_on_h.html">EconTalk podcast</a> where he discussed <span style="text-decoration: underline;">How Children Succeed</span>.</p>
<p>The thrust of Tough's argument, if ...</p></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Sep 19, 2012</div>
        <div class=detail>
          <h1><a href="./2012/09/thoughts-on-grading.html">Thoughts on Grading</a></h1>
            <div class=summary><p><p><a href="http://www.twitter.com/MrPABruno">Bruno</a> is a skeptic on <a href="http://scholasticadministrator.typepad.com/thisweekineducation/2012/09/bruno-is-standards-based-grading-a-good-idea.html">standards-based grading</a>. He seems to think
that "mastery of content" is too abstract for students to work toward
and rightly cites evidence that motivation and changed behavior are
tightly linked to a sense of efficacy, which in turn is tightly linked
to feeling as though ...</p></p></div>
        </div>
      </div>
                <div class=entry-overview>
        <div class=date>Aug 22, 2012</div>
        <div class=detail>
          <h1><a href="./2012/08/there-must-be-an-easier-way-survey-questions-in-r.html">There must be an easier way... survey questions in R</a></h1>
            <div class=summary><p><p>So I have this great little custom function I've used when looking at survey data in R. I call this function <code>pull()</code>. The goal of <code>pull()</code> is to quickly produce frequency tables with n sizes from individual-level survey data.</p>
<p>Before using <code>pull()</code>, I create a big table that includes ...</p></p></div>
        </div>
      </div>
      
<div class="pagination">
<ul>
      <span class="prev disabled"><a href="#">&larr; Previous</a>
        <span class="active"><a href="./index.html">1</a>
      <span class=""><a href="./index2.html">2</a>
      <span class=""><a href="./index3.html">3</a>
      <span class=""><a href="./index4.html">4</a>
      <span class=""><a href="./index5.html">5</a>
        <span class="next"><a href="./index2.html">Next &rarr;</a>
  </ul>
</div>

        </div>
        
                    <div class=footer>
  <p>&copy; Copyright <script language="JavaScript">var date = new Date(); document.write(date.getFullYear());</script> by Jason P. Becker</p>
  <p> Powered by <a href="http://pypi.python.org/pypi/pelican/" target="_blank">Pelican</a>.  
    Theme modified from <a href="https://github.com/fjavieralba/flasky">flasky</a> by <a href="http://fjavieralba.com">fjavieralba</a>
  </p> 
  <p>
    <div class=social style="font-size: 27px;">
      <ul>
        <script language="JavaScript">
          u = 'jason.paul.becker';
          s = 'gmail.com';
          document.write('<a href=\"mailto:' + u + '@' + s + '\" target=\"_blank\">');
        </script>
            <li><i class="icon-envelope icon-large"></i> </li>
        </a>
        <a href="http://twitter.com/jasonpbecker" target="_blank"> <li> <i class="icon-twitter-sign icon-large"> </li></i> </a>
        <a href="http://github.com/jasonpbecker" target="_blank"> <li> <i class="icon-github-sign icon-large"></i> </li> </a>
        <a href="./feeds/all.rss.xml" rel="alternate" title="Recent Blog Posts"><li> <i class="icon-rss icon-large"></i> </li></a>
      </ul>
    </div>
  </p>
</div>            </div>
          </body>
</html>
